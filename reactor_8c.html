<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>reactor-c: core/reactor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">reactor-c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4270bfced15e0e73154b13468c7c9ad9.html">core</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">reactor.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="reactor_8h_source.html">reactor.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="lf__types_8h_source.html">lf_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="platform_8h_source.html">platform.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="reactor__common_8h_source.html">reactor_common.h</a>&quot;</code><br />
<code>#include &lt;signal.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a69cf8a450070f4a9bd475145a6701340"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a69cf8a450070f4a9bd475145a6701340">_lf_set_present</a> (<a class="el" href="structlf__port__base__t.html">lf_port_base_t</a> *port)</td></tr>
<tr class="separator:a69cf8a450070f4a9bd475145a6701340"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6eebd41a38d43840a080979bdcda64"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a8f6eebd41a38d43840a080979bdcda64">wait_until</a> (<a class="el" href="platform_8h.html#a0c4810f46596400a763cfe99b3cfa7b1">instant_t</a> wakeup_time)</td></tr>
<tr class="separator:a8f6eebd41a38d43840a080979bdcda64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39d0e27c79dd9542fccb97abc95dab4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#ab39d0e27c79dd9542fccb97abc95dab4">lf_print_snapshot</a> ()</td></tr>
<tr class="separator:ab39d0e27c79dd9542fccb97abc95dab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef50e4963079f2716f35c8c92256bb4f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#aef50e4963079f2716f35c8c92256bb4f">_lf_trigger_reaction</a> (<a class="el" href="structreaction__t.html">reaction_t</a> *reaction, int worker_number)</td></tr>
<tr class="separator:aef50e4963079f2716f35c8c92256bb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a081a39f2fb7b67488bf430710b5d5cb7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a081a39f2fb7b67488bf430710b5d5cb7">_lf_do_step</a> (void)</td></tr>
<tr class="separator:a081a39f2fb7b67488bf430710b5d5cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6967cbc8a4ce78b1049da429d172f90b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a6967cbc8a4ce78b1049da429d172f90b">next</a> (void)</td></tr>
<tr class="separator:a6967cbc8a4ce78b1049da429d172f90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa217496c12cb5b53dad3d91e203cc323"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#aa217496c12cb5b53dad3d91e203cc323">lf_request_stop</a> ()</td></tr>
<tr class="separator:aa217496c12cb5b53dad3d91e203cc323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0480c270d70168b41ce510540dc391ff"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a0480c270d70168b41ce510540dc391ff">_lf_is_blocked_by_executing_reaction</a> (void)</td></tr>
<tr class="separator:a0480c270d70168b41ce510540dc391ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831ac79bfc7b11dadfa1aa6dd1b68d4f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#a831ac79bfc7b11dadfa1aa6dd1b68d4f">lf_reactor_c_main</a> (int argc, const char *argv[])</td></tr>
<tr class="separator:a831ac79bfc7b11dadfa1aa6dd1b68d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac78005c2cb229d6bec832088d9cdef10"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structpqueue__t.html">pqueue_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="reactor_8c.html#ac78005c2cb229d6bec832088d9cdef10">reaction_q</a></td></tr>
<tr class="memdesc:ac78005c2cb229d6bec832088d9cdef10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Runtime implementation for the non-threaded version of the C target of Lingua Franca.  <br /></td></tr>
<tr class="separator:ac78005c2cb229d6bec832088d9cdef10"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a081a39f2fb7b67488bf430710b5d5cb7" name="a081a39f2fb7b67488bf430710b5d5cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a081a39f2fb7b67488bf430710b5d5cb7">&#9670;&#160;</a></span>_lf_do_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _lf_do_step </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Execute all the reactions in the reaction queue at the current tag.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns 1 if the execution should continue and 0 if the execution should stop. </dd></dl>

</div>
</div>
<a id="a0480c270d70168b41ce510540dc391ff" name="a0480c270d70168b41ce510540dc391ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0480c270d70168b41ce510540dc391ff">&#9670;&#160;</a></span>_lf_is_blocked_by_executing_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool _lf_is_blocked_by_executing_reaction </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return false. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>The reaction. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a69cf8a450070f4a9bd475145a6701340" name="a69cf8a450070f4a9bd475145a6701340"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69cf8a450070f4a9bd475145a6701340">&#9670;&#160;</a></span>_lf_set_present()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_set_present </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlf__port__base__t.html">lf_port_base_t</a> *&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Mark the given port's is_present field as true. This is_present field will later be cleaned up by _lf_start_time_step. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">port</td><td>A pointer to the port struct. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aef50e4963079f2716f35c8c92256bb4f" name="aef50e4963079f2716f35c8c92256bb4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef50e4963079f2716f35c8c92256bb4f">&#9670;&#160;</a></span>_lf_trigger_reaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _lf_trigger_reaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structreaction__t.html">reaction_t</a> *&#160;</td>
          <td class="paramname"><em>reaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>worker_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Trigger 'reaction'.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>The reaction. </td></tr>
    <tr><td class="paramname">worker_number</td><td>The ID of the worker that is making this call. 0 should be used if there is only one worker (e.g., when the program is using the unthreaded C runtime). -1 is used for an anonymous call in a context where a worker number does not make sense (e.g., the caller is not a worker thread). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab39d0e27c79dd9542fccb97abc95dab4" name="ab39d0e27c79dd9542fccb97abc95dab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39d0e27c79dd9542fccb97abc95dab4">&#9670;&#160;</a></span>lf_print_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_print_snapshot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Print a snapshot of the priority queues used during execution (for debugging). </p>

</div>
</div>
<a id="a831ac79bfc7b11dadfa1aa6dd1b68d4f" name="a831ac79bfc7b11dadfa1aa6dd1b68d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831ac79bfc7b11dadfa1aa6dd1b68d4f">&#9670;&#160;</a></span>lf_reactor_c_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lf_reactor_c_main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The main loop of the LF program.</p>
<p>An unambiguous function name that can be called by external libraries.</p>
<p>Note: In target languages that use the C core library, there should be an unambiguous way to execute the LF program's main function that will not conflict with other main functions that might get resolved and linked at compile time. </p>

</div>
</div>
<a id="aa217496c12cb5b53dad3d91e203cc323" name="aa217496c12cb5b53dad3d91e203cc323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa217496c12cb5b53dad3d91e203cc323">&#9670;&#160;</a></span>lf_request_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lf_request_stop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stop execution at the conclusion of the next microstep. </p>

</div>
</div>
<a id="a6967cbc8a4ce78b1049da429d172f90b" name="a6967cbc8a4ce78b1049da429d172f90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6967cbc8a4ce78b1049da429d172f90b">&#9670;&#160;</a></span>next()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int next </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f6eebd41a38d43840a080979bdcda64" name="a8f6eebd41a38d43840a080979bdcda64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6eebd41a38d43840a080979bdcda64">&#9670;&#160;</a></span>wait_until()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int wait_until </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="platform_8h.html#a0c4810f46596400a763cfe99b3cfa7b1">instant_t</a>&#160;</td>
          <td class="paramname"><em>wakeup_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wait until physical time matches the given logical time or the time of a concurrently scheduled physical action, which might be earlier than the requested logical time. </p><dl class="section return"><dt>Returns</dt><dd>0 if the wait was completed, -1 if it was skipped or interrupted. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac78005c2cb229d6bec832088d9cdef10" name="ac78005c2cb229d6bec832088d9cdef10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78005c2cb229d6bec832088d9cdef10">&#9670;&#160;</a></span>reaction_q</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structpqueue__t.html">pqueue_t</a>* reaction_q</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Runtime implementation for the non-threaded version of the C target of Lingua Franca. </p>
<dl class="section author"><dt>Author</dt><dd>{Edward A. Lee <a href="#" onclick="location.href='mai'+'lto:'+'eal'+'@b'+'erk'+'el'+'ey.'+'ed'+'u'; return false;">eal@b<span class="obfuscator">.nosp@m.</span>erke<span class="obfuscator">.nosp@m.</span>ley.e<span class="obfuscator">.nosp@m.</span>du</a>} </dd>
<dd>
{Marten Lohstroh <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'te'+'n@b'+'er'+'kel'+'ey'+'.ed'+'u'; return false;">marte<span class="obfuscator">.nosp@m.</span>n@be<span class="obfuscator">.nosp@m.</span>rkele<span class="obfuscator">.nosp@m.</span>y.ed<span class="obfuscator">.nosp@m.</span>u</a>} </dd>
<dd>
{Soroush Bateni <a href="#" onclick="location.href='mai'+'lto:'+'sor'+'ou'+'sh@'+'ut'+'dal'+'la'+'s.e'+'du'; return false;">sorou<span class="obfuscator">.nosp@m.</span>sh@u<span class="obfuscator">.nosp@m.</span>tdall<span class="obfuscator">.nosp@m.</span>as.e<span class="obfuscator">.nosp@m.</span>du</a>} </dd>
<dd>
{Erling Jellum <a href="#" onclick="location.href='mai'+'lto:'+'erl'+'in'+'grj'+'@b'+'erk'+'el'+'ey.'+'ed'+'u'; return false;">erlin<span class="obfuscator">.nosp@m.</span>grj@<span class="obfuscator">.nosp@m.</span>berke<span class="obfuscator">.nosp@m.</span>ley.<span class="obfuscator">.nosp@m.</span>edu</a>}</dd></dl>
<p>Queue of triggered reactions at the current tag. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
